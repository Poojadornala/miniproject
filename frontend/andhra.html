<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ANDHRA PRADESH</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" />
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />

  <style>
    #map {
      height: 400px;
      width: 100%;
      margin-bottom: 20px;
    }
    nav ul {
      list-style: none;
      padding: 0;
      display: flex;
      justify-content: center;
      gap: 1rem;
      background-color: #f0f0f0;
    }
    nav ul li {
      display: inline;
    }
    nav ul li a {
      text-decoration: none;
      color: #333;
    }
    .center {
      text-align: center;
    }
    .button {
      background-color: #007BFF;
      color: white;
      padding: 8px 16px;
      text-decoration: none;
      border-radius: 5px;
    }
    .button:hover {
      background-color: #0056b3;
    }
    table {
      margin: 0 auto;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px 12px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <h4 align="center">ANDHRA PRADESH</h4>

  <nav>
    <ul>
      <li><a href="#about">About</a></li>
      <li><a href="#Image">Image</a></li>
      <li><a href="#History">History</a></li>
      <li><a href="#festivals">Festivals</a></li>
      <li><a href="#location">Location</a></li>
      <li><a href="#accommodation">Accommodation</a></li>
      <li><a href="#slokam">Bhagavad Gita Slokam</a></li>
    </ul>
  </nav>

  <div id="google_translate_element"></div>

  <div class="container">

    <section id="about">
      <h1 align="center">Panduranga Swamy Temple – Machilipatnam</h1>
      <p> Panduranga Swamy Temple is a famous temple in Chilakalapudi, Machilipatnam, Krishna District, Andhra Pradesh. It was built in 1929 by Sri Bhakta Narasimham. The temple has spiritual significance for the locals and closely resembles the Pandharpur temple in Maharashtra.</p>
    </section>

    <h1 align="center">Temple</h1>
    <center><section id="Image"><img src="andhra.jpg" alt="Panduranga Temple" /></section></center>

    <h2 align="center">History</h2>
    <section id="History">
      <p>This temple was constructed in 1929 by Sri Bhakta Narasimham and dedicated to Lord Panduranga Vithal. It is considered the second most famous Panduranga temple in India. Devotees take a holy dip at Manginapudi seashore during Kartika Purnima. The temple also features a Sahasralinga mandapam and over 100 other shrines.</p>
    </section>

    <h2 align="center">Festivals</h2>
    <section id="festivals">
      <p>Karthika Masam, Gowri Pooja</p>
    </section>

    <h2 align="center">Location</h2>
    <section id="location">
      <table>
        <tr><th>Location</th><td>Chilakalapudi, Machilipatnam</td></tr>
        <tr><th>State</th><td>Andhra Pradesh</td></tr>
        <tr><th>Country</th><td>India</td></tr>
        <tr><th>Deity</th><td>Panduranga Swamy</td></tr>
      </table>
    </section>

    <h2 align="center">Accommodation</h2>
    <section id="accommodation">
      <p class="center"><a class="button" href="https://www.booking.com" target="_blank" rel="noopener">Click here to book a room</a></p>
    </section>

    <h2 class="center">Bhagavad Gita Slokam</h2>
    <section id="slokam">
      <h2 class="center">Chapter 9, Verse 24</h2>
      <p class="center">अहं हि सर्वयज्ञानां भोक्ता च प्रभुरेव च ||<br>न तु मामभिजानन्ति तत्त्वेनातश्च्यवन्ति ते || 24||</p>
      <p class="center"><br>ahaṁ hi sarva-yajñānāṁ bhoktā cha prabhureva cha<br>na tu mām abhijānanti tattvenātaś chyavanti te</p>
      <center>
        <audio controls>
          <source src="chapter9verse24.mp3" />
          Your browser does not support the audio element.
        </audio>
      </center>
      <h3 class="center">Translation</h3>
      <p class="center">I am the enjoyer and the only Lord of all sacrifices. But those who fail to realize My divine nature must be reborn.</p>
    </section>

    <h2 align="center">Route to Panduranga Swamy Temple</h2>
    <div id="map"></div>

    <p class="center"><a class="button" href="krishna1.html">GO HOME</a></p>

  </div>

  <!-- Leaflet JS & Routing plugin -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.min.js"></script>

  <script>
    const templeCoords = [16.1785, 81.1301];

    const map = L.map('map').setView(templeCoords, 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    L.marker(templeCoords).addTo(map).bindPopup('Panduranga Swamy Temple').openPopup();

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        const userCoords = [position.coords.latitude, position.coords.longitude];

        L.marker(userCoords).addTo(map).bindPopup("You are here").openPopup();

        const control = L.Routing.control({
          waypoints: [
            L.latLng(userCoords),
            L.latLng(templeCoords)
          ],
          routeWhileDragging: false,
          createMarker: function() { return null; }, // prevent extra markers
          show: false,
          addWaypoints: false,
          draggableWaypoints: false,
          fitSelectedRoutes: true,
          showAlternatives: false,
        }).addTo(map);

        // After route found, style the route line to blue
        control.on('routesfound', function(e) {
          const routes = e.routes;
          const summary = routes[0].summary;

          const distanceInKm = (summary.totalDistance / 1000).toFixed(2);
          const timeInMin = Math.round(summary.totalTime / 60);

          L.popup()
            .setLatLng(templeCoords)
            .setContent(`Distance: ${distanceInKm} km<br>Estimated time: ${timeInMin} minutes`)
            .openOn(map);

          // Change the color of the first route line to blue
          if (control._routes && control._routes[0] && control._routes[0].line) {
            control._routes[0].line.setStyle({
              color: 'blue',
              weight: 5,
              opacity: 0.8
            });
          }
        });

      }, function () {
        alert("Location permission denied.");
      });
    } else {
      alert("Geolocation is not supported by your browser.");
    }
  </script>

</body>
</html>
