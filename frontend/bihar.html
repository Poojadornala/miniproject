<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Information about Sri Sri Radha Banke Bihari Ji Mandir (ISKCON Patna), including history, location, and significance." />
  <title>BIHAR</title>
 <!-- Styles & Scripts -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" />
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />


 
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <style>
    /* Ensure the map has a visible height */
    #map {
      height: 400px;
      width: 100%;
      margin: 20px 0;
    }
    /* Centering some text/buttons */
    .center {
      text-align: center;
    }
    .button {
      display: inline-block;
      padding: 8px 16px;
      margin: 10px 0;
      background-color: #007BFF;
      color: white;
      text-decoration: none;
      border-radius: 4px;
    }
    .button:hover {
      background-color: #0056b3;
    }
  </style>
</head>

<body>
  <header>
    <h4 align="center">BIHAR</h4>
    <header>
  <div class="menu-btn"></div>
    <div class="navigation">
      <div class="navigation-items">
    <a href="#about">About</a>
    <a href="#image">Image</a>
    <a href="#location">Location</a>
    <a href="#accomodation">Accommodation</a>
    <a href="#slokam">Bhagavad Gita</a>
    <a href="krishna1.html">Back</a>
    </div>
    </div>
    </header>
    <div id="google_translate_element"></div>
  </header>

  <main class="container">
    <h1 align="center">HARE KRISHNA TEMPLE</h1>

    <section id="about">
      <p>
        The proper name of ISKCON Temple in Patna is Sri Sri Radha Banke Bihari Ji Mandir. The temple is located in Buddha Marg in Patna in the Indian state of Bihar. The entire ISKCON temple network is dedicated to Radha and Krishna and is a Hindu temple. It is currently under construction but is expected to become an important spiritual center for devotees from across Bihar and beyond.
      </p>
    </section>

    <section id="image">
      <center>
        <h2>Temple</h2>
        <img src="bihar.jpg" alt="ISKCON Temple Patna Image" />
      </center>
    </section>

    <section id="history">
      <h2 align="center">History</h2>
      <p>
        The International Society for Krishna Consciousness (ISKCON), also known as the Hare Krishna movement, was founded on July 13, 1966, in New York City by A.C. Bhaktivedanta Swami Prabhupada. It is rooted in the Gaudiya Vaishnavism tradition of Hinduism. The movement spreads the teachings of the Bhagavad Gita, emphasizing Bhakti Yoga—devotion to Lord Krishna, who is considered the Supreme Personality of Godhead. There are over 550 ISKCON centers worldwide, including the Sri Sri Radha Banke Bihari Ji Temple in Patna.
      </p>
    </section>

    <section id="significance">
      <h2 align="center">Architectural Significance</h2>
      <p>
        The ISKCON temple in Patna is being built in the traditional Hindu temple style with a budget of ₹51 crores, spanning over 2 acres. It is set to be the largest building in Patna and the biggest Radha Krishna temple in Bihar and Jharkhand. The sanctum will house deities of Sri Sri Gaur Nitai, Sri Sri Radha Banke Bihari Ji, and Sri Sri Ram Durbar in three separate halls. Idols will be 3 feet tall on 24-carat gold-plated thrones. The temple will have 84 pillars, several spires, a Gurukula, a book distribution center, a vegetarian restaurant, and a peaceful, bell-free environment.
      </p>
    </section>

    <section id="location">
      <h2>Location</h2>
      <table>
        <tr>
          <th>Location</th>
          <td>Patna</td>
        </tr>
        <tr>
          <th>State</th>
          <td>Bihar</td>
        </tr>
        <tr>
          <th>Country</th>
          <td>India</td>
        </tr>
      </table>
    </section>

    <section id="website">
      <h2 class="center">Official Website</h2>
      <p class="center">
        Official website <br />
        <a class="button" href="https://iskconpatna.com/" target="_blank" rel="noopener noreferrer">Click here to open official website</a>
      </p>
    </section>

    <section id="accommodation">
      <h2 class="center">Accommodation</h2>
      <p class="center">
        Here are the hotels available near Sri Sri Radha Banke Bihari Ji Temple, Patna.<br />
        <a class="button" href="https://www.tripadvisor.com/Hotels-g297592-Patna_Patna_District_Bihar-Hotels.html" target="_blank" rel="noopener noreferrer">Book a room</a>
      </p>
    </section>

    <section id="slokam">
      <h2 class="center">Bhagavad Gita Slokam</h2>
      <h3 class="center">Chapter 9, Verse 26</h3>
      <p class="center" style="line-height: 1.6;">
        पत्रं पुष्पं फलं तोयं यो मे भक्त्या प्रयच्छति |<br />
        तदहं भक्त्युपहृतमश्नामि प्रयतात्मन: || 26 ||<br />
        <em>patraṁ puṣhpaṁ phalaṁ toyaṁ yo me bhaktyā prayachchhati<br />
        tadahaṁ bhaktyupahṛitam aśhnāmi prayatātmanaḥ</em>
      </p>
      <audio controls>
        <source src="chapter9verse26.mp3" />
        Your browser does not support the audio element.
      </audio>
      <h2 class="center">Translation</h2>
      <p class="center">
        If one offers to Me with devotion a leaf, a flower, a fruit, or even water, I delightfully partake of that item offered with love by My devotee in pure consciousness.
      </p>
    </section>

    <h2 align="center">Route to HARE KRISHNA TEMPLE</h2>
    <div id="map"></div>

    <p class="center"><a class="button" href="krishna1.html">GO HOME</a></p>
    <section id="reviews" class="center">
  <h2>Reviews</h2>
  <div id="review-form">
    <textarea id="review-text" rows="4" cols="50" placeholder="Write your review..." required></textarea><br>
    <button id="submit-review">Submit Review</button>
  </div>
  <div id="review-list"></div>
</section>
  </main>

  <!-- Leaflet JS & Routing plugin -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.min.js"></script>

  <script>
    // Coordinates for ISKCON Patna Temple
    const templeCoords = [25.6081,  85.1344];

    const map = L.map('map').setView(templeCoords, 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    L.marker(templeCoords).addTo(map).bindPopup('Sri Sri Radha Banke Bihari Ji Mandir').openPopup();

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        const userCoords = [position.coords.latitude, position.coords.longitude];

        L.marker(userCoords).addTo(map).bindPopup("You are here").openPopup();

        const control = L.Routing.control({
          waypoints: [
            L.latLng(userCoords),
            L.latLng(templeCoords)
          ],
          routeWhileDragging: false,
          createMarker: () => null,
          show: false,
          addWaypoints: false,
          draggableWaypoints: false,
          fitSelectedRoutes: true,
          showAlternatives: false
        }).addTo(map);

        control.on('routesfound', function (e) {
          const summary = e.routes[0].summary;
          const distanceInKm = (summary.totalDistance / 1000).toFixed(2);
          const timeInMin = Math.round(summary.totalTime / 60);
          L.popup()
            .setLatLng(templeCoords)
            .setContent(`Distance: ${distanceInKm} km<br>Estimated time: ${timeInMin} minutes`)
            .openOn(map);
        });

      }, function () {
        alert("Location permission denied.");
      });
    } else {
      alert("Geolocation is not supported by your browser.");
    }
  </script>
  <script type="module">
import { auth, db } from './firebase.js';
import {
  collection,
  addDoc,
  getDocs,
  query,
  where,
  deleteDoc,
  updateDoc,
  doc
} from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";

const templeId = "Guruvayur";
const reviewList = document.getElementById('review-list');
const reviewInput = document.getElementById('review-text');
const submitBtn = document.getElementById('submit-review');
let currentUser;

auth.onAuthStateChanged(user => {
  currentUser = user;
  if (user) {
    console.log("✅ Logged in as:", user.email);
    loadReviews();
  } else {
    alert("⚠️ Please log in to view/post reviews.");
  }
});

async function loadReviews() {
  const q = query(collection(db, "reviews"), where("temple", "==", templeId));
  const snapshot = await getDocs(q);
  reviewList.innerHTML = "";
  snapshot.forEach(docSnap => {
    const r = docSnap.data();
    const reviewHTML = `
      <div style="border:1px solid #ccc; padding:10px; margin:10px 0;">
        <strong>${r.name}</strong><br>
        <p>${r.review}</p>
        ${r.uid === currentUser?.uid ? `
          <button onclick="editReview('${docSnap.id}', \`${r.review.replace(/`/g, "\\`")}\`)">Edit</button>
          <button onclick="deleteReview('${docSnap.id}')">Delete</button>
        ` : ''}
      </div>
    `;
    reviewList.insertAdjacentHTML('beforeend', reviewHTML);
  });
}

submitBtn.addEventListener('click', async () => {
  const text = reviewInput.value.trim();
  if (!text || !currentUser) return alert("Please write a review and log in.");
  await addDoc(collection(db, "reviews"), {
    temple: templeId,
    uid: currentUser.uid,
    name: currentUser.displayName || currentUser.email,
    review: text,
    createdAt: Date.now()
  });
  reviewInput.value = '';
  loadReviews();
});

window.editReview = async (id, oldText) => {
  const newText = prompt("Edit your review:", oldText);
  if (!newText) return;
  await updateDoc(doc(db, "reviews", id), {
    review: newText
  });
  loadReviews();
};

window.deleteReview = async (id) => {
  if (!confirm("Delete this review?")) return;
  await deleteDoc(doc(db, "reviews", id));
  loadReviews();
};
</script>

</body>
</html>
