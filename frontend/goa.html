<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GOA</title>

  <!-- Styles & Libraries -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" />
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />

<script src="scripts.js" defer></script>
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script></head>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    nav ul {
      list-style: none;
      padding: 0;
      text-align: center;
    }
    nav ul li {
      display: inline-block;
      margin: 0 10px;
    }
    nav ul li a {
      text-decoration: none;
      color: #007BFF;
    }
    nav ul li a:hover {
      text-decoration: underline;
    }
    #map {
      height: 400px;
      width: 100%;
      margin: 20px 0;
    }
    .center {
      text-align: center;
    }
    .button {
      display: inline-block;
      padding: 8px 16px;
      background-color: #007BFF;
      color: white;
      text-decoration: none;
      border-radius: 4px;
    }
    .button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h4 class="center">GOA</h4>

  <nav>
    <ul>
      <li><a href="#about">About</a></li>
      <li><a href="#image">Image</a></li>
      <li><a href="#location">Location</a></li>
      <li><a href="#accommodation">Accommodation</a></li>
      <li><a href="#slokam">Bhagavad Gita Slokam</a></li>
    </ul>
  </nav>

  <div id="google_translate_element"></div>

  <div class="container">
    <h1 class="center">Birla Radha Krishna Mandir</h1>

    <section id="about">
      <p class="center">Birla Radha Krishna Mandir is a Hindu temple in Goa.</p>
    </section>

    <section id="image" class="center">
      <img src="goa.jpg" alt="Birla Temple Image" style="max-width:90%; height:auto;" />
    </section>

    <section id="history">
      <h2 class="center">History</h2>
      <p>
        The temple is among the various temples constructed across India by the Birla family. The foundation stone for the temple was laid in 2021. It was inaugurated in 2023. The temple is located at the campus of BITS Pilani Goa at Sancoale. It is built out of white Makrana marble in Nagara style, and has five shikharas. The main deities worshipped here are Radha and Krishna.
      </p>
    </section>

    <section id="location">
      <h2 class="center">Location</h2>
      <table class="center" style="margin: auto;">
        <tr><th>State</th><td>Goa</td></tr>
        <tr><th>Country</th><td>India</td></tr>
        <tr><th>Deity</th><td>Radha Krishna</td></tr>
      </table>
      <div id="map"></div>
    </section>

    <section id="accommodation">
      <h2 class="center">Accommodation</h2>
      <p class="center">
        <a class="button" href="https://www.booking.com" target="_blank">Click here to book a room</a>
      </p>
    </section>

    <section id="slokam">
      <h2 class="center">Bhagavad Gita Slokam</h2>
      <h3 class="center">Chapter 9, Verse 28</h3>
      <p class="center">
        शुभाशुभफलैरेवं मोक्ष्यसे कर्मबन्धनै: |<br />
        संन्यासयोगयुक्तात्मा विमुक्तो मामुपैष्यसि || 28||<br /><br />
        śhubhāśhubha-phalair evaṁ mokṣhyase karma-bandhanaiḥ<br />
        sannyāsa-yoga-yuktātmā vimukto mām upaiṣhyasi
      </p>
      <div class="center">
        <audio controls>
          <source src="chapter9verse28.mp3" type="audio/mpeg" />
          Your browser does not support the audio element.
        </audio>
      </div>
      <h3 class="center">Translation</h3>
      <p class="center">
        By dedicating all your works to Me, you will be freed from the bondage of good and bad results. With your mind attached to Me through renunciation, you will be liberated and will reach Me.
      </p>
    </section>
  </div>

  <!-- Leaflet & Routing JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.min.js"></script>

  <script>
    const templeCoords = [15.3872947, 73.8738767]; // Correct coordinates for BITS Goa

    const map = L.map('map').setView(templeCoords, 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    L.marker(templeCoords).addTo(map).bindPopup('Birla Radha Krishna Mandir').openPopup();

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        const userCoords = [position.coords.latitude, position.coords.longitude];
        L.marker(userCoords).addTo(map).bindPopup("You are here").openPopup();

       L.Routing.control({
  waypoints: [
    L.latLng(userCoords),
    L.latLng(templeCoords)
  ],
 routeWhileDragging: false,
  createMarker: function() { return null; }, // prevent extra markers
  show: false,
  addWaypoints: false,
  draggableWaypoints: false,
  fitSelectedRoutes: true,
  showAlternatives: false
}).on('routesfound', function (e) {
  const summary = e.routes[0].summary;
  const distanceInKm = (summary.totalDistance / 1000).toFixed(2);
  const timeInMin = Math.round(summary.totalTime / 60);

  // Add a control or popup to show distance & time
  const popupContent = `
    <strong>Route Info:</strong><br>
    Distance: ${distanceInKm} km<br>
    Estimated Time: ${timeInMin} minutes
  `;

  L.popup()
    .setLatLng(templeCoords)
    .setContent(popupContent)
    .openOn(map);
}).addTo(map);

      }, () => {
        alert("Location permission denied.");
      });
    } else {
      alert("Geolocation is not supported by your browser.");
    }
  </script>
</body>
</html>
