<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
     <script src="script.js"></script>
     <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');
*{
    margin:0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
    
}
h1,h2,h3,h4,h5,h6{
    color: #c6c4c4;
    
    font-weight: bold;
    line-height: 1.2;
    margin: 10px 0;
    text-align: center;
    font-family: Verdana, Geneva, Tahoma, sans-serif;
}
body {
    background-image: url("pic.jpg");
    background-color: #1c1c1c;
    background-size: 98vw; /* Ensures the image covers the entire viewport */
    background-position: center; /* Centers the image */
    background-repeat: no-repeat; /* Prevents the image from repeating */
    overflow: hidden; /* Stops scrolling */}
.container {
    display: flex;
    flex-direction: row; /* Keeps them side by side */
    justify-content: center; /* Centers the boxes */
    align-items: flex-start; /* Aligns them at the top */
    gap: 20px; /* Adds space between boxes */
}

.maincontent {
    flex: 1; /* Ensures both divs take equal space */
    max-width: 450px; /* Adjust width as needed */
    color: rgb(241, 236, 236);
    margin: 20px;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(156, 26, 26, 0.5);
    background-color: white; /* Changed from pink to white */
    border-radius: 5px;
    text-align: center;
}


.container p{
   
    margin-bottom: 25px;
}
.container {
    display: flex;
    flex-direction: row; /* Keeps the divs side by side */
    justify-content: center; /* Centers the boxes */
    align-items: stretch; /* Ensures equal height for all child divs */
    gap: 20px; /* Adds space between boxes */
    opacity: 0.9;
}

.maincontent {
    flex: 1; /* Ensures both divs take equal space */
    color: rgb(255, 247, 247);
    margin: 20px;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); /* Adjusted shadow for elegance */
    background-color: rgba(63, 62, 62, 0.9); /* Changed background to white */
    border-radius: 5px;
    display: flex;
    flex-direction: column; /* Ensures content stacks vertically */
    justify-content: space-between; /* Distributes content evenly */
    text-align: center;
    
}

.maincontent img {
    max-height: 300px; /* Restricts image height */
    object-fit: cover; /* Ensures the image scales properly */
    margin-bottom: 20px;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.maincontent p{
    margin-bottom: 5px;

}
img{
    display: block;
  margin: 0 auto;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    margin-bottom:29px;
    width:100%;
    cursor:pointer;
    
}
div{
    display: flex;
    flex-direction: row;
}
.header-bar {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px 40px;
}

.title {
  margin: 0;
  font-size: 2.5rem;
  font-weight: bold;
  font-family: 'Poppins', sans-serif;
  color: #e5dfdf;
  
}

.home-button {
  position: absolute;
  right: 40px;
  text-decoration: none;
  color: rgb(201, 201, 201);
  font-weight: 500;
  font-size: 1.1rem;
  left:20px;
}
.home-button:before{
    content: '';
    position: absolute;
    background:#1c1c1c;
    width:0;
    height :3px;
    bottom:0;
    left:0;
    transition:0.3s ease ;
}
.home-button:hover:before{
    width:7%;
}
.goog-te-banner-frame.skiptranslate {
    display: none !important;
  }

  /* Push body up to fill space */
  body {
    top: 0px !important;
  }

  /* Hide full-page overlay */
  .goog-te-gadget-icon {
    display: none !important;
  }

  /* Hide powered-by text */
  .goog-logo-link {
    display: none !important;
  }
.goog-logo-link, .goog-te-gadget span {
  display: none !important;
}

  .goog-te-gadget {
    font-size: 0 !important;
  }

body > .skiptranslate {
  display: none !important;
}


body {
  top: 0px !important;
}

/* Container styling */
#google_translate_element {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 1000;
}

/* Dropdown styling */
#google_translate_element select {
  background-color: transparent;
  color: rgb(203, 199, 199);
  border: 2px solid rgb(36, 35, 35);
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 14px;
  font-family: "Poppins", sans-serif;
  backdrop-filter: blur(6px);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  appearance: none;
  -webkit-appearance: none;
  cursor: pointer;
  transition: background 0.3s ease, color 0.3s ease;
}

#google_translate_element select:hover {
  background-color: rgb(0, 0, 0);
  color: #fffcfc;
}
</style>
<body>
    <div id="google_translate_element"></div>
    <header>
      <div class="header-bar">
    <h1 style="text-align: center;">ISKCON TEMPLES IN ANDHRA</h1>
    <a href="../frontend/homepage2.html" class="home-button">Go Home</a></div></header>
    <div class ="container">
<div class="maincontent">
    <h4>Radha Govinda Mandir- Tirupati</h4>
    <a href="andhra1.html"><img src="https://iskcontirupati.info/wp-content/uploads/2021/02/iskcon-temple-tirupati.jpg" style="height:400px;"></a>
    <p>Sri Sri Radha Govinda Mandir, nestled at the foothills of Tirumala in Tirupati, is a spiritual haven run by ISKCON. With its stunning lotus-inspired architecture and beautifully adorned deities of Radha and Krishna, the temple radiates peace and devotion. It offers daily darshan, soulful kirtans, and a divine atmosphere for all seekers.</p>
    
</div>
<div class="maincontent">
    <h3>Radha Gopinath Dasavatara Mandir -Rajahmundry</h3>
    <a href="andhra2.html"><img src="https://travelsetu.com/apps/uploads/new_destinations_photos/destination/2024/01/01/6aaa98de2021f806f3465e20f4fd3242_1000x1000.png" style="height:400px;"></a>
    <p>Sri Sri Radha Gopinath Dasavatara Mandir, located on the banks of the Godavari River in Rajahmundry, is a stunning ISKCON temple known for its divine deities and unique Dasavatara mantaps. The temple blends serene spirituality with vibrant festivals and daily devotional programs, welcoming devotees from across the region. It stands as a beacon of devotion and cultural heritage in Andhra Pradesh</p>
    </div>
</div>
 <!-- Leaflet JS & Routing plugin -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.min.js"></script>

  <script>
  
    const templeCoords = [ 22.4668, 87.9057];

    const map = L.map('map').setView(templeCoords, 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    L.marker(templeCoords).addTo(map).bindPopup('Madangopal Jiu Temple').openPopup();

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        const userCoords = [position.coords.latitude, position.coords.longitude];

        L.marker(userCoords).addTo(map).bindPopup("You are here").openPopup();

        const control = L.Routing.control({
          waypoints: [
            L.latLng(userCoords),
            L.latLng(templeCoords)
          ],
          routeWhileDragging: false,
          createMarker: () => null,
          show: false,
          addWaypoints: false,
          draggableWaypoints: false,
          fitSelectedRoutes: true,
          showAlternatives: false
        }).addTo(map);

        control.on('routesfound', function (e) {
          const summary = e.routes[0].summary;
          const distanceInKm = (summary.totalDistance / 1000).toFixed(2);
          const timeInMin = Math.round(summary.totalTime / 60);
          L.popup()
            .setLatLng(templeCoords)
            .setContent(`Distance: ${distanceInKm} km<br>Estimated time: ${timeInMin} minutes`)
            .openOn(map);
        });

      }, function () {
        alert("Location permission denied.");
      });
    } else {
      alert("Geolocation is not supported by your browser.");
    }
  </script>
  <script type="module">
import { auth, db } from './firebase.js';
import {
  collection,
  addDoc,
  getDocs,
  query,
  where,
  deleteDoc,
  updateDoc,
  doc
} from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";

const templeId = "Guruvayur";
const reviewList = document.getElementById('review-list');
const reviewInput = document.getElementById('review-text');
const submitBtn = document.getElementById('submit-review');
let currentUser;

auth.onAuthStateChanged(user => {
  currentUser = user;
  if (user) {
    console.log("✅ Logged in as:", user.email);
    loadReviews();
  } else {
    alert("⚠️ Please log in to view/post reviews.");
  }
});

async function loadReviews() {
  const q = query(collection(db, "reviews"), where("temple", "==", templeId));
  const snapshot = await getDocs(q);
  reviewList.innerHTML = "";
  snapshot.forEach(docSnap => {
    const r = docSnap.data();
    const reviewHTML = `
      <div style="border:1px solid #ccc; padding:10px; margin:10px 0;">
        <strong>${r.name}</strong><br>
        <p>${r.review}</p>
        ${r.uid === currentUser?.uid ? `
          <button onclick="editReview('${docSnap.id}', \`${r.review.replace(/`/g, "\\`")}\`)">Edit</button>
          <button onclick="deleteReview('${docSnap.id}')">Delete</button>
        ` : ''}
      </div>
    `;
    reviewList.insertAdjacentHTML('beforeend', reviewHTML);
  });
}

submitBtn.addEventListener('click', async () => {
  const text = reviewInput.value.trim();
  if (!text || !currentUser) return alert("Please write a review and log in.");
  await addDoc(collection(db, "reviews"), {
    temple: templeId,
    uid: currentUser.uid,
    name: currentUser.displayName || currentUser.email,
    review: text,
    createdAt: Date.now()
  });
  reviewInput.value = '';
  loadReviews();
});

window.editReview = async (id, oldText) => {
  const newText = prompt("Edit your review:", oldText);
  if (!newText) return;
  await updateDoc(doc(db, "reviews", id), {
    review: newText
  });
  loadReviews();
};

window.deleteReview = async (id) => {
  if (!confirm("Delete this review?")) return;
  await deleteDoc(doc(db, "reviews", id));
  loadReviews();
};
</script>

</body>
</html>
