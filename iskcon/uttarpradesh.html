<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UTTARPRADESH</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" />
  <script type="module" src="scripts.js"></script>
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />


  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>
  <style>
    #map {
      height: 400px;
      width: 100%;
      margin-bottom: 20px;
    }
    nav ul {
      list-style: none;
      padding: 0;
      display: flex;
      justify-content: center;
      gap: 1rem;
      background-color: #f0f0f0;
    }
    nav ul li {
      display: inline;
    }
    nav ul li a {
      text-decoration: none;
      color: #333;
    }
    .center {
      text-align: center;
    }
    .button {
      background-color: #007BFF;
      color: white;
      padding: 8px 16px;
      text-decoration: none;
      border-radius: 5px;
    }
    .button:hover {
      background-color: #0056b3;
    }
    table {
      margin: 0 auto;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px 12px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <h4 align="center">UTTARPRADESH</h4>

  <header>
  <div class="menu-btn"></div>
    <div class="navigation">
      <div class="navigation-items">
    <a href="#about">About</a>
    <a href="#image">Image</a>
    <a href="#location">Location</a>
    <a href="#accomodation">Accommodation</a>
    <a href="krishna1.html">Back</a>
    </div>
    </div>
    </header>

 <div id="google_translate_element" style="text-align: center; margin: 20px;"></div>

  <div class="container">

 

    <section id="about">
      <h1 align="center">Sri Sri Krishna Balaram Mandir- Raman Reti,Vrindavan</h1>
      <p>Sri Sri Krishna Balaram Mandir is one of the most famous temples in Vrindavan, built by the International Society for Krishna Consciousness (ISKCON). It is located in the spiritually significant Raman Reti area, where Lord Krishna and Balaram are believed to have played in their childhood. The main deities worshipped here are Krishna and His elder brother Balaram, along with Radha-Shyamasundar and Gaura-Nitai. The temple is constructed from white marble and adorned with intricate carvings, beautiful arches, and vibrant artwork that reflect the Vrindavan mood. It attracts thousands of devotees from India and abroad for its powerful spiritual atmosphere. A unique highlight is the 24-hour kirtan (chanting of holy names), which fills the temple with divine energy all day and night.</p>
    </section>

    <h1 align="center">Temple</h1>
    <center><section id="Image"><img src="https://i.pinimg.com/originals/b8/19/5b/b8195b6e51271ae8cd63a4f91a1b59a7.jpg" alt="ISKCON hyderabad" /></section></center>

    <h2 align="center">History</h2>
    <section id="History">
      <p>The temple was personally envisioned by Srila Prabhupada, the founder of ISKCON, who wanted a sacred center in Vrindavan where Krishna and Balaram could be worshipped together. The foundation stone was laid in 1972, and the temple was inaugurated on Ram Navami in 1975. It holds special importance as it was the last major temple project Srila Prabhupada completed before his passing. The temple's architecture was designed to reflect both traditional Indian style and the devotional mood of Vrindavan. Srila Prabhupada’s samadhi (memorial shrine) is located beside the temple and is a major pilgrimage site for ISKCON followers. Over the years, the temple has become a global center for Vaishnava culture, study of the Bhagavad Gita, and spiritual practice.</p>
    </section>

    <h2 align="center">Festivals</h2>
    <section id="festivals">
      <p>Krishna Janmashtami</p>
      <p>Radhashtami</p>
      <p>Holi</p>
      <p>Diwali</p>
      <p>Balaram Purnima</p>
    </section>

    <h2 align="center">Location</h2>
    <section id="location">
      <table>
        <tr><th>Location</th><td>Raman Reti (Bhaktivedanta Swami Marg), Vrindavan</td></tr>
        <tr><th>State</th><td>Uttarpradesh</td></tr>
        <tr><th>Country</th><td>India</td></tr>
        <tr><th>Deity</th><td>Sri Sri Krishna & Balaram (also Radha-Shyamasundar and Gaura-Nitai)</tr></tr>
      </table>
    </section>

    <h2 align="center">Accommodation</h2>
    <section id="accommodation">
      <p class="center"><a class="button" href="https://www.booking.com" target="_blank" rel="noopener">Click here to book a room</a></p>
    </section>


    <h2 align="center">Route to Sri Sri Krishna Balaram Mandir- Raman Reti,Vrindavan  </h2>
    <div id="map"></div>

    <section id="reviews" class="center">
  <h2>Reviews</h2>
  <div id="review-form">
    <textarea id="review-text" rows="4" cols="50" placeholder="Write your review..." required></textarea><br>
    <button id="submit-review">Submit Review</button>
  </div>
  <div id="review-list"></div>
</section>

  </div>

  <!-- Leaflet JS & Routing plugin -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.min.js"></script>

  <script>
    const templeCoords = [27.5716, 77.6985 ];

    const map = L.map('map').setView(templeCoords, 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    L.marker(templeCoords).addTo(map).bindPopup('Sri Sri Krishna Balaram Mandir- Raman Reti,Vrindavan').openPopup();

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        const userCoords = [position.coords.latitude, position.coords.longitude];

        L.marker(userCoords).addTo(map).bindPopup("You are here").openPopup();

        const control = L.Routing.control({
          waypoints: [
            L.latLng(userCoords),
            L.latLng(templeCoords)
          ],
          routeWhileDragging: false,
          createMarker: function() { return null; },
          show: false,
          addWaypoints: false,
          draggableWaypoints: false,
          fitSelectedRoutes: true,
          showAlternatives: false,
        }).addTo(map);

        control.on('routesfound', function(e) {
          const summary = e.routes[0].summary;
          const distanceInKm = (summary.totalDistance / 1000).toFixed(2);
          const timeInMin = Math.round(summary.totalTime / 60);

          L.popup()
            .setLatLng(templeCoords)
            .setContent(`Distance: ${distanceInKm} km<br>Estimated time: ${timeInMin} minutes`)
            .openOn(map);

          if (control._routes?.[0]?.line) {
            control._routes[0].line.setStyle({
              color: 'blue',
              weight: 5,
              opacity: 0.8
            });
          }
        });

      }, function () {
        alert("Location permission denied.");
      });
    } else {
      alert("Geolocation is not supported by your browser.");
    }
  </script>
  <script type="module">
import { auth, db } from './firebase.js';
import {
  collection,
  addDoc,
  getDocs,
  query,
  where,
  deleteDoc,
  updateDoc,
  doc
} from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";

const templeId = "uttarpradesh381";
const reviewList = document.getElementById('review-list');
const reviewInput = document.getElementById('review-text');
const submitBtn = document.getElementById('submit-review');
let currentUser;

auth.onAuthStateChanged(user => {
  currentUser = user;
  if (user) {
    console.log("✅ Logged in as:", user.email);
    loadReviews();
  } else {
    alert("⚠️ Please log in to view/post reviews.");
  }
});

async function loadReviews() {
  const q = query(collection(db, "reviews"), where("temple", "==", templeId));
  const snapshot = await getDocs(q);
  reviewList.innerHTML = "";
  snapshot.forEach(docSnap => {
    const r = docSnap.data();
    const reviewHTML = `
      <div style="border:1px solid #ccc; padding:10px; margin:10px 0;">
        <strong>${r.name}</strong><br>
        <p>${r.review}</p>
        ${r.uid === currentUser?.uid ? `
          <button onclick="editReview('${docSnap.id}', \${r.review.replace(//g, "\\")}\)">Edit</button>
          <button onclick="deleteReview('${docSnap.id}')">Delete</button>
        ` : ''}
      </div>
    `;
    reviewList.insertAdjacentHTML('beforeend', reviewHTML);
  });
}

submitBtn.addEventListener('click', async () => {
  const text = reviewInput.value.trim();
  if (!text || !currentUser) return alert("Please write a review and log in.");
  await addDoc(collection(db, "reviews"), {
    temple: templeId,
    uid: currentUser.uid,
    name: currentUser.displayName || currentUser.email,
    review: text,
    createdAt: Date.now()
  });
  reviewInput.value = '';
  loadReviews();
});

window.editReview = async (id, oldText) => {
  const newText = prompt("Edit your review:", oldText);
  if (!newText) return;
  await updateDoc(doc(db, "reviews", id), {
    review: newText
  });
  loadReviews();
};

window.deleteReview = async (id) => {
  if (!confirm("Delete this review?")) return;
  await deleteDoc(doc(db, "reviews", id));
  loadReviews();
};
</script>

</body>
</html>